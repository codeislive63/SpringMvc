<!DOCTYPE html>
<html lang="ru"
      xmlns:th="http://www.thymeleaf.org"
      xmlns:sec="https://www.thymeleaf.org/thymeleaf-extras-springsecurity6">
<head>
    <meta charset="UTF-8">
    <title>Подтверждение бронирования • Railway Booker</title>
    <link rel="stylesheet" th:href="@{/css/app.css}">
</head>
<body class="app-bg">

<header th:replace="~{fragments/topbar :: topbar}"></header>

<main class="page">
    <section class="welcome">
        <h1>Бронирование выполнено</h1>
        <p>Ниже список ваших забронированных билетов. Вы можете перейти к оплате каждого билета или вернуться к списку своих бронирований.</p>
    </section>

    <section class="cards-grid">
        <article class="card" th:each="t : ${tickets}">
            <p>Рейс: <b th:text="${t.trip.id}"></b></p>
            <p>Место: <b th:text="${t.seatNumber}"></b></p>
            <p>Цена: <b th:text="${t.price}"></b></p>
            <p>Статус: <b th:text="${t.status.label}"></b></p>
            <form th:action="@{/booking/pay/{id}(id=${t.id})}" method="post">
                <button class="btn primary" type="submit">Оплатить</button>
            </form>
        </article>

        <div class="actions" style="margin-top: 16px;">
            <a class="btn secondary" th:href="@{/booking/my}">Мои билеты</a>
            <a class="btn" th:href="@{/routes/search}">Вернуться к поиску</a>
        </div>
    </section>
</main>

</body>
</html>
